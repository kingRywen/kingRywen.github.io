---
title: 记录一次全栈开发流程
date: 2018-03-07 12:06:37
tags:
  - 全栈
  - node.js
  - fiddle代理
  - es6
---

# 序

在一次全栈开发公司会议管理系统过程中，由于涉及到许多之前用过的知识，然而因为没有进行系统的梳理，在开发过程中往往很多踩过的坑又要重新踩一次，严重影响开发效率。吸取这次的经验教训，所以开始记录在全栈开发中踩过的坑，以儆效尤。

# 技术选型

前端vue +　后端界面iceWorks(react) + 服务器Koa(restfullAPI+JWT接口授权验证) + 数据库(mongoDB) + Redis持久化

# 开始

## iceworks

使用[iceworks](https://alibaba.github.io/ice/#/iceworks)自动生成脚手架，主要用于后台管理页面的快速开发，在生成的项目文件夹中新建一个`server`文件夹，这个文件夹里放置的是服务器文件，在这个文件夹下再新建一个`app`文件夹，用来存放静态资源文件，当然也可以用cdn加速静态文件，再新建`admin`放iceworks构建出来的文件，这个就是通向后台页面的最终路径。

## 服务器（Koa）

在`server`文件夹新建`app.js`作为后端服务器的入口文件，因为我想使用es6语法，所以作了额外的配置，首先安装babel所需核心包
```
cnpm i -D babel-register babel-polyfill babel-preset-env
```
`app.js`
```javascript
// 此入口文件不能使用es6的import语法
// 必须先引入这两个
require('babel-register')
require('babel-polyfill')
// 然后引入server.js, 引入的文件都可以使用es6语法
require('./server')
```
`.babelrc配置`
```json
{
  "presets": [
    ["env", {
      "target": {
        "node": "current"
      }
    }]
  ]
}
```
配置完就可以愉快地使用es6语法了