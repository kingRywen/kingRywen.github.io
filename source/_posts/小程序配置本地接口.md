---
title: 小程序配置本地接口
date: 2018-02-09 10:31:09
tags:
    - 小程序
    - 本地调试
    - charles代理
---
之前在做公司小程序开发的时候，没有发现本地调试的方法，所以每次写完接口必须要把代码上传远程服务器进行测试，这种处理不仅不优雅，更要命的是极度拖延了开发进度，不过因为第一次接触小程序，完全不熟悉其开发原理，所以一直没有机会去改善开发逻辑。直至公司小程序开发完成后，才在网上去搜寻解决文案，终于找到本地开发调试的方法，并记录下来。
<!-- more -->
# 安装charles

charles是一个http代理软件(以前用过fiddle,应该类似于fiddle，不过前者功能更强大)，有windows和mac版，软件收费，基于java，所以需要电脑上装有[java](http://www.java.com)，所以我下载的是[破解版](https://pan.baidu.com/s/1dHaY9ah)(穷，有钱的可以支持一下正版)， 密码：3ghf。下载后直接解压运行。

# 开始配置

如果已经安装好了软件，那么就开始配置。

+ 首先打开Charles，安装证书到本地, 点击‘安装证书’，全点下一步，安装完成

![](http://oy9tlpm12.bkt.clouddn.com/1.png)

+ 打开 `工具->远程映射` 添加线上域名于本地（开发环境）服务的映射

![](http://oy9tlpm12.bkt.clouddn.com/22.png)

+ 打开 `代理 -> 代理设置` 选择`代理`选项卡，默认的HTTP Proxy的值是8888，这个端口号需要记着，后边在微信web开发者工具里边要用到的

+ 选择`ssl`选项卡,如下设置

![](http://oy9tlpm12.bkt.clouddn.com/6.png)

+ 选择`windows`选项卡，点击启用以下选项

![](http://oy9tlpm12.bkt.clouddn.com/3.png)

+ 确认 `工具->windows代理` 打上勾

![](http://oy9tlpm12.bkt.clouddn.com/4.png)

+ 登录微信开发者工具，选择手动设置代理，然后填写本地的IP，以及前边在Charles中设置的代理端口号。enjoy it!

