<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>小程序配置本地接口</title>
    <url>/2018/02/09/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E9%85%8D%E7%BD%AE%E6%9C%AC%E5%9C%B0%E6%8E%A5%E5%8F%A3/</url>
    <content><![CDATA[<p>之前在做公司小程序开发的时候，没有发现本地调试的方法，所以每次写完接口必须要把代码上传远程服务器进行测试，这种处理不仅不优雅，更要命的是极度拖延了开发进度，不过因为第一次接触小程序，完全不熟悉其开发原理，所以一直没有机会去改善开发逻辑。直至公司小程序开发完成后，才在网上去搜寻解决文案，终于找到本地开发调试的方法，并记录下来。<br><a id="more"></a></p>
<h1 id="安装charles"><a href="#安装charles" class="headerlink" title="安装charles"></a>安装charles</h1><p>charles是一个http代理软件(以前用过fiddle,应该类似于fiddle，不过前者功能更强大)，有windows和mac版，软件收费，基于java，所以需要电脑上装有<a href="http://www.java.com" target="_blank" rel="noopener">java</a>，所以我下载的是<a href="https://pan.baidu.com/s/1dHaY9ah" target="_blank" rel="noopener">破解版</a>(穷，有钱的可以支持一下正版)， 密码：3ghf。下载后直接解压运行。</p>
<h1 id="开始配置"><a href="#开始配置" class="headerlink" title="开始配置"></a>开始配置</h1><p>如果已经安装好了软件，那么就开始配置。</p>
<ul>
<li>首先打开Charles，安装证书到本地, 点击‘安装证书’，全点下一步，安装完成</li>
</ul>
<p><img src="http://oy9tlpm12.bkt.clouddn.com/1.png" alt></p>
<ul>
<li>打开 <code>工具-&gt;远程映射</code> 添加线上域名于本地（开发环境）服务的映射</li>
</ul>
<p><img src="http://oy9tlpm12.bkt.clouddn.com/22.png" alt></p>
<ul>
<li><p>打开 <code>代理 -&gt; 代理设置</code> 选择<code>代理</code>选项卡，默认的HTTP Proxy的值是8888，这个端口号需要记着，后边在微信web开发者工具里边要用到的</p>
</li>
<li><p>选择<code>ssl</code>选项卡,如下设置</p>
</li>
</ul>
<p><img src="http://oy9tlpm12.bkt.clouddn.com/6.png" alt></p>
<ul>
<li>选择<code>windows</code>选项卡，点击启用以下选项</li>
</ul>
<p><img src="http://oy9tlpm12.bkt.clouddn.com/3.png" alt></p>
<ul>
<li>确认 <code>工具-&gt;windows代理</code> 打上勾</li>
</ul>
<p><img src="http://oy9tlpm12.bkt.clouddn.com/4.png" alt></p>
<ul>
<li>登录微信开发者工具，选择手动设置代理，然后填写本地的IP，以及前边在Charles中设置的代理端口号。enjoy it!</li>
</ul>
]]></content>
      <tags>
        <tag>小程序</tag>
        <tag>本地调试</tag>
        <tag>charles代理</tag>
      </tags>
  </entry>
  <entry>
    <title>常用的工具库</title>
    <url>/2018/01/26/%E5%B8%B8%E7%94%A8%E7%9A%84%E5%B7%A5%E5%85%B7%E5%BA%93/</url>
    <content><![CDATA[<h1 id="前端"><a href="#前端" class="headerlink" title="前端"></a>前端</h1><h2 id="动画"><a href="#动画" class="headerlink" title="动画"></a>动画</h2><ul>
<li><a href="https://greensock.com/gsap" target="_blank" rel="noopener">GreenSock | GSAP</a>: CSS动画类库</li>
<li><a href="http://robertpenner.com/easing/" target="_blank" rel="noopener">easing</a>: 函数式动画库</li>
</ul>
<a id="more"></a>
<h2 id="图表"><a href="#图表" class="headerlink" title="图表"></a>图表</h2><ul>
<li><a href="https://github.com/ecomfe/echarts" target="_blank" rel="noopener">Echarts</a>: 百度开发的图表库</li>
</ul>
<h2 id="学习资源"><a href="#学习资源" class="headerlink" title="学习资源"></a>学习资源</h2><ul>
<li><a href="http://cssreference.io/" target="_blank" rel="noopener">cssreference</a>: 一个动态展示各种CSS的学习库</li>
</ul>
]]></content>
      <tags>
        <tag>工具</tag>
        <tag>网站</tag>
      </tags>
  </entry>
  <entry>
    <title>offset</title>
    <url>/2018/01/03/offset/</url>
    <content><![CDATA[<p>先来一张网上的图<br><img src="http://oy9tlpm12.bkt.clouddn.com/3131637-50e9ea1bc0764f99.png" alt></p>
<p>当然，这个图是有浏览器的兼容问题的，不是每个浏览器都是这样定义，个人觉得有两种情况，内容盒模型(标准盒模型)，边框盒模型(IE怪异盒模型)</p>
<a id="more"></a>
<h1 id="内容盒模型（标准盒模型）"><a href="#内容盒模型（标准盒模型）" class="headerlink" title="内容盒模型（标准盒模型）"></a>内容盒模型（标准盒模型）</h1><p><code>offsetWidth、offsetHeight</code>: 包含自身width、border、padding.(div.style.width 因为只能获取行内的数值)</p>
<p><code>offsetLeft、offsetTop</code>: 对于块级元素，相对最近有定位属性的父级元素（position不为默认值,可通过el.offsetParent获取）左边的距离，如果都没有定位属性则以html元素为基准。注意，在chrome、IE8中这里的比较的是父级border的外边缘与当前元素的外边缘，而firefox、IE7、IE9比较的是父级border的内边缘与当前元素的外边缘。对于可被截断到下一行的行内元素（如 span），描述的是边界框的尺寸（使用 Element.getBoundingClientRect 来获取其位置）</p>
<p><code>clientTop、clientLeft</code>: 一般返回元素的border宽度</p>
<p><code>clientWidth、clientHeight</code>: Element.clientWidth 属性表示元素的内部宽度，以像素计。该属性包括内边距，但不包括垂直滚动条（如果有）、边框和外边距。该属性值会被四舍五入为一个整数。如果你需要一个小数值，可使用 element.getBoundingClientRect()。IE7/8有点不一样<br><code>scrollWidth、scrollHeight</code>: 元素的scrollWidth只读属性以px为单位返回元素的内容区域宽度或元素的本身的宽度中更大的那个值。若元素的宽度大于其内容的区域（例如，元素存在滚动条时）, scrollWidth的值要大于clientWidth</p>
<p><code>scrollLeft、scrollTop</code>: Element.scrollLeft 属性可以读取或设置元素滚动条到元素左边的距离。也就是滚动条位置</p>
<blockquote>
<p>获取浏览器滚动条时要注意兼容：</p>
<ul>
<li>未声明 DTD 时（谷歌只认识他）<br><code>document.body.scrollTop</code></li>
<li>已经声明DTD 时（IE678只认识他）<br><code>document.documentElement.scrollTop</code></li>
<li>火狐/谷歌/ie9+以上支持的<br><code>window.pageYOffset</code></li>
</ul>
</blockquote>
<p>兼容获取浏览器滚动条</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">window</span>.pageYOffset || <span class="built_in">document</span>.documentElement.scrollTop || <span class="built_in">document</span>.body.scrollTop</span><br></pre></td></tr></table></figure>
<h1 id="边框盒模型（IE怪异盒模型）"><a href="#边框盒模型（IE怪异盒模型）" class="headerlink" title="边框盒模型（IE怪异盒模型）"></a>边框盒模型（IE怪异盒模型）</h1><p><code>offsetWidth、offsetHeight</code>: 等于自身width, width包含padding,border</p>
<p><code>offsetLeft、offsetTop</code>: 除IE7、IE9比较的是父级border的内边缘与当前元素的外边缘， firefox、chrome、ie8是父级border的外边缘与当前元素的外边缘 </p>
<p><code>clientTop、clientLeft</code>: 一般返回元素的border宽度</p>
]]></content>
      <tags>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title>JS常用原生函数汇总</title>
    <url>/2017/11/09/JS%E5%B8%B8%E7%94%A8%E5%8E%9F%E7%94%9F%E5%87%BD%E6%95%B0%E6%B1%87%E6%80%BB/</url>
    <content><![CDATA[<p>工作中经常用到的方法。</p>
<a id="more"></a>
<h2 id="type-类型判断"><a href="#type-类型判断" class="headerlink" title="type 类型判断"></a>type 类型判断</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">isString (o) &#123; <span class="comment">//是否字符串</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(o).slice(<span class="number">8</span>, <span class="number">-1</span>) === <span class="string">'String'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">isNumber (o) &#123; <span class="comment">//是否数字</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(o).slice(<span class="number">8</span>, <span class="number">-1</span>) === <span class="string">'Number'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">isObj (o) &#123; <span class="comment">//是否对象</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(o).slice(<span class="number">8</span>, <span class="number">-1</span>) === <span class="string">'Object'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">isArray (o) &#123; <span class="comment">//是否数组</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(o).slice(<span class="number">8</span>, <span class="number">-1</span>) === <span class="string">'Array'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">isDate (o) &#123; <span class="comment">//是否时间</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(o).slice(<span class="number">8</span>, <span class="number">-1</span>) === <span class="string">'Date'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">isBoolean (o) &#123; <span class="comment">//是否boolean</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(o).slice(<span class="number">8</span>, <span class="number">-1</span>) === <span class="string">'Boolean'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">isFunction (o) &#123; <span class="comment">//是否函数</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(o).slice(<span class="number">8</span>, <span class="number">-1</span>) === <span class="string">'Function'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">isNull (o) &#123; <span class="comment">//是否为null</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(o).slice(<span class="number">8</span>, <span class="number">-1</span>) === <span class="string">'Null'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">isUndefined (o) &#123; <span class="comment">//是否undefined</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(o).slice(<span class="number">8</span>, <span class="number">-1</span>) === <span class="string">'Undefined'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">isFalse (o) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!o || o === <span class="string">'null'</span> || o === <span class="string">'undefined'</span> || o === <span class="string">'false'</span> || o === <span class="string">'NaN'</span>) <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">isTrue (o) &#123;</span><br><span class="line">    <span class="keyword">return</span> !<span class="keyword">this</span>.isFalse(o)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">isIos () &#123;</span><br><span class="line">    <span class="keyword">var</span> u = navigator.userAgent;</span><br><span class="line">    <span class="keyword">if</span> (u.indexOf(<span class="string">'Android'</span>) &gt; <span class="number">-1</span> || u.indexOf(<span class="string">'Linux'</span>) &gt; <span class="number">-1</span>) &#123;<span class="comment">//安卓手机</span></span><br><span class="line">        <span class="comment">// return "Android";</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (u.indexOf(<span class="string">'iPhone'</span>) &gt; <span class="number">-1</span>) &#123;<span class="comment">//苹果手机</span></span><br><span class="line">        <span class="comment">// return "iPhone";</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (u.indexOf(<span class="string">'iPad'</span>) &gt; <span class="number">-1</span>) &#123;<span class="comment">//iPad</span></span><br><span class="line">        <span class="comment">// return "iPad";</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (u.indexOf(<span class="string">'Windows Phone'</span>) &gt; <span class="number">-1</span>) &#123;<span class="comment">//winphone手机</span></span><br><span class="line">        <span class="comment">// return "Windows Phone";</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">isPC () &#123; <span class="comment">//是否为PC端</span></span><br><span class="line">    <span class="keyword">var</span> userAgentInfo = navigator.userAgent;</span><br><span class="line">    <span class="keyword">var</span> Agents = [<span class="string">"Android"</span>, <span class="string">"iPhone"</span>,</span><br><span class="line">                <span class="string">"SymbianOS"</span>, <span class="string">"Windows Phone"</span>,</span><br><span class="line">                <span class="string">"iPad"</span>, <span class="string">"iPod"</span>];</span><br><span class="line">    <span class="keyword">var</span> flag = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> v = <span class="number">0</span>; v &lt; Agents.length; v++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (userAgentInfo.indexOf(Agents[v]) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            flag = <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> flag;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">browserType()&#123;</span><br><span class="line">    <span class="keyword">var</span> userAgent = navigator.userAgent; <span class="comment">//取得浏览器的userAgent字符串</span></span><br><span class="line">    <span class="keyword">var</span> isOpera = userAgent.indexOf(<span class="string">"Opera"</span>) &gt; <span class="number">-1</span>; <span class="comment">//判断是否Opera浏览器</span></span><br><span class="line">    <span class="keyword">var</span> isIE = userAgent.indexOf(<span class="string">"compatible"</span>) &gt; <span class="number">-1</span> &amp;&amp; userAgent.indexOf(<span class="string">"MSIE"</span>) &gt; <span class="number">-1</span> &amp;&amp; !isOpera; <span class="comment">//判断是否IE浏览器</span></span><br><span class="line">    <span class="keyword">var</span> isEdge = userAgent.indexOf(<span class="string">"Edge"</span>) &gt; <span class="number">-1</span>; <span class="comment">//判断是否IE的Edge浏览器</span></span><br><span class="line">    <span class="keyword">var</span> isFF = userAgent.indexOf(<span class="string">"Firefox"</span>) &gt; <span class="number">-1</span>; <span class="comment">//判断是否Firefox浏览器</span></span><br><span class="line">    <span class="keyword">var</span> isSafari = userAgent.indexOf(<span class="string">"Safari"</span>) &gt; <span class="number">-1</span> &amp;&amp; userAgent.indexOf(<span class="string">"Chrome"</span>) == <span class="number">-1</span>; <span class="comment">//判断是否Safari浏览器</span></span><br><span class="line">    <span class="keyword">var</span> isChrome = userAgent.indexOf(<span class="string">"Chrome"</span>) &gt; <span class="number">-1</span> &amp;&amp; userAgent.indexOf(<span class="string">"Safari"</span>) &gt; <span class="number">-1</span>; <span class="comment">//判断Chrome浏览器</span></span><br><span class="line">    <span class="keyword">if</span> (isIE) &#123;</span><br><span class="line">        <span class="keyword">var</span> reIE = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"MSIE (\\d+\\.\\d+);"</span>);</span><br><span class="line">        reIE.test(userAgent);</span><br><span class="line">        <span class="keyword">var</span> fIEVersion = <span class="built_in">parseFloat</span>(<span class="built_in">RegExp</span>[<span class="string">"$1"</span>]);</span><br><span class="line">        <span class="keyword">if</span>(fIEVersion == <span class="number">7</span>) <span class="keyword">return</span> <span class="string">"IE7"</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(fIEVersion == <span class="number">8</span>) <span class="keyword">return</span> <span class="string">"IE8"</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(fIEVersion == <span class="number">9</span>) <span class="keyword">return</span> <span class="string">"IE9"</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(fIEVersion == <span class="number">10</span>) <span class="keyword">return</span> <span class="string">"IE10"</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(fIEVersion == <span class="number">11</span>) <span class="keyword">return</span> <span class="string">"IE11"</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> <span class="string">"IE7以下"</span><span class="comment">//IE版本过低</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (isFF) <span class="keyword">return</span> <span class="string">"FF"</span>;</span><br><span class="line">    <span class="keyword">if</span> (isOpera) <span class="keyword">return</span> <span class="string">"Opera"</span>;</span><br><span class="line">    <span class="keyword">if</span> (isEdge) <span class="keyword">return</span> <span class="string">"Edge"</span>;</span><br><span class="line">    <span class="keyword">if</span> (isSafari) <span class="keyword">return</span> <span class="string">"Safari"</span>;</span><br><span class="line">    <span class="keyword">if</span> (isChrome) <span class="keyword">return</span> <span class="string">"Chrome"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">checkStr (str, type) &#123;</span><br><span class="line">    <span class="keyword">switch</span> (type) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'phone'</span>:   <span class="comment">//手机号码</span></span><br><span class="line">            <span class="keyword">return</span> <span class="regexp">/^1[3|4|5|7|8][0-9]&#123;9&#125;$/</span>.test(str);</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'tel'</span>:     <span class="comment">//座机</span></span><br><span class="line">            <span class="keyword">return</span> <span class="regexp">/^(0\d&#123;2,3&#125;-\d&#123;7,8&#125;)(-\d&#123;1,4&#125;)?$/</span>.test(str);</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'card'</span>:    <span class="comment">//身份证</span></span><br><span class="line">            <span class="keyword">return</span> <span class="regexp">/(^\d&#123;15&#125;$)|(^\d&#123;18&#125;$)|(^\d&#123;17&#125;(\d|X|x)$)/</span>.test(str);</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'pwd'</span>:     <span class="comment">//密码以字母开头，长度在6~18之间，只能包含字母、数字和下划线</span></span><br><span class="line">            <span class="keyword">return</span> <span class="regexp">/^[a-zA-Z]\w&#123;5,17&#125;$/</span>.test(str)</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'postal'</span>:  <span class="comment">//邮政编码</span></span><br><span class="line">            <span class="keyword">return</span> <span class="regexp">/[1-9]\d&#123;5&#125;(?!\d)/</span>.test(str);</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'QQ'</span>:      <span class="comment">//QQ号</span></span><br><span class="line">            <span class="keyword">return</span> <span class="regexp">/^[1-9][0-9]&#123;4,9&#125;$/</span>.test(str);</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'email'</span>:   <span class="comment">//邮箱</span></span><br><span class="line">            <span class="keyword">return</span> <span class="regexp">/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/</span>.test(str);</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'money'</span>:   <span class="comment">//金额(小数点2位)</span></span><br><span class="line">            <span class="keyword">return</span> <span class="regexp">/^\d*(?:\.\d&#123;0,2&#125;)?$/</span>.test(str);</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'URL'</span>:     <span class="comment">//网址</span></span><br><span class="line">            <span class="keyword">return</span> <span class="regexp">/(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&amp;:/~\+#]*[\w\-\@?^=%&amp;/~\+#])?/</span>.test(str)</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'IP'</span>:      <span class="comment">//IP</span></span><br><span class="line">            <span class="keyword">return</span> <span class="regexp">/((?:(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d)\\.)&#123;3&#125;(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d))/</span>.test(str);</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'date'</span>:    <span class="comment">//日期时间</span></span><br><span class="line">            <span class="keyword">return</span> <span class="regexp">/^(\d&#123;4&#125;)\-(\d&#123;2&#125;)\-(\d&#123;2&#125;) (\d&#123;2&#125;)(?:\:\d&#123;2&#125;|:(\d&#123;2&#125;):(\d&#123;2&#125;))$/</span>.test(str) || <span class="regexp">/^(\d&#123;4&#125;)\-(\d&#123;2&#125;)\-(\d&#123;2&#125;)$/</span>.test(str)</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'number'</span>:  <span class="comment">//数字</span></span><br><span class="line">            <span class="keyword">return</span> <span class="regexp">/^[0-9]$/</span>.test(str);</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'english'</span>: <span class="comment">//英文</span></span><br><span class="line">            <span class="keyword">return</span> <span class="regexp">/^[a-zA-Z]+$/</span>.test(str);</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'chinese'</span>: <span class="comment">//中文</span></span><br><span class="line">            <span class="keyword">return</span> <span class="regexp">/^[\u4E00-\u9FA5]+$/</span>.test(str);</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'lower'</span>:   <span class="comment">//小写</span></span><br><span class="line">            <span class="keyword">return</span> <span class="regexp">/^[a-z]+$/</span>.test(str);</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'upper'</span>:   <span class="comment">//大写</span></span><br><span class="line">            <span class="keyword">return</span> <span class="regexp">/^[A-Z]+$/</span>.test(str);</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'HTML'</span>:    <span class="comment">//HTML标记</span></span><br><span class="line">            <span class="keyword">return</span> <span class="regexp">/&lt;("[^"]*"|'[^']*'|[^'"&gt;])*&gt;/</span>.test(str);</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Date"><a href="#Date" class="headerlink" title="Date"></a>Date</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 格式化时间</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * @param  &#123;time&#125; 时间</span></span><br><span class="line"><span class="comment"> * @param  &#123;cFormat&#125; 格式</span></span><br><span class="line"><span class="comment"> * @return &#123;String&#125; 字符串</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * @example formatTime('2018-1-29', '&#123;y&#125;/&#123;m&#125;/&#123;d&#125; &#123;h&#125;:&#123;i&#125;:&#123;s&#125;') // -&gt; 2018/01/29 00:00:00</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">formatTime</span>(<span class="params">time, cFormat</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">arguments</span>.length === <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">    <span class="keyword">if</span> ((time + <span class="string">''</span>).length === <span class="number">10</span>) &#123;</span><br><span class="line">        time = +time * <span class="number">1000</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> format = cFormat || <span class="string">'&#123;y&#125;-&#123;m&#125;-&#123;d&#125; &#123;h&#125;:&#123;i&#125;:&#123;s&#125;'</span>, date</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> time === <span class="string">'object'</span>) &#123;</span><br><span class="line">        date = time</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        date = <span class="keyword">new</span> <span class="built_in">Date</span>(time)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> formatObj = &#123;</span><br><span class="line">        y: date.getFullYear(),</span><br><span class="line">        m: date.getMonth() + <span class="number">1</span>,</span><br><span class="line">        d: date.getDate(),</span><br><span class="line">        h: date.getHours(),</span><br><span class="line">        i: date.getMinutes(),</span><br><span class="line">        s: date.getSeconds(),</span><br><span class="line">        a: date.getDay()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> time_str = format.replace(<span class="regexp">/&#123;(y|m|d|h|i|s|a)+&#125;/g</span>, (result, key) =&gt; &#123;</span><br><span class="line">        <span class="keyword">var</span> value = formatObj[key]</span><br><span class="line">        <span class="keyword">if</span> (key === <span class="string">'a'</span>) <span class="keyword">return</span> [<span class="string">'一'</span>, <span class="string">'二'</span>, <span class="string">'三'</span>, <span class="string">'四'</span>, <span class="string">'五'</span>, <span class="string">'六'</span>, <span class="string">'日'</span>][value - <span class="number">1</span>]</span><br><span class="line">        <span class="keyword">if</span> (result.length &gt; <span class="number">0</span> &amp;&amp; value &lt; <span class="number">10</span>) &#123;</span><br><span class="line">            value = <span class="string">'0'</span> + value</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> value || <span class="number">0</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> time_str</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*判断一个元素是否在数组中*/</span></span><br><span class="line">contains (arr, val) &#123;</span><br><span class="line">    <span class="keyword">return</span> arr.indexOf(val) != <span class="number">-1</span> ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="获取url参数"><a href="#获取url参数" class="headerlink" title="获取url参数"></a>获取url参数</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getQueryString</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"(^|&amp;)"</span> + name + <span class="string">"=([^&amp;]*)(&amp;|$)"</span>);</span><br><span class="line">  <span class="keyword">var</span> r = <span class="built_in">window</span>.location.search.substr(<span class="number">1</span>).match(reg);</span><br><span class="line">  <span class="keyword">if</span> (r != <span class="literal">null</span>) <span class="keyword">return</span> <span class="built_in">unescape</span>(r[<span class="number">2</span>]); <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="简单去抖函数"><a href="#简单去抖函数" class="headerlink" title="简单去抖函数"></a>简单去抖函数</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">time, fn</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> timer;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> ctx = <span class="keyword">this</span>,</span><br><span class="line">        args = <span class="built_in">arguments</span>;</span><br><span class="line">    clearTimeout(timer)</span><br><span class="line">    timer = setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      fn.apply(ctx, args)</span><br><span class="line">    &#125;, time)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>原生函数</tag>
        <tag>实用</tag>
      </tags>
  </entry>
  <entry>
    <title>Git常用操作命令</title>
    <url>/2017/10/31/Git%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4/</url>
    <content><![CDATA[<h2 id="git-分支操作"><a href="#git-分支操作" class="headerlink" title="git 分支操作"></a>git 分支操作</h2><h3 id="查看本地分支"><a href="#查看本地分支" class="headerlink" title="查看本地分支"></a>查看本地分支</h3><p><code>git branch</code></p>
<h3 id="查看远程分支"><a href="#查看远程分支" class="headerlink" title="查看远程分支"></a>查看远程分支</h3><p><code>git branch -a</code></p>
<h3 id="创建本地分支"><a href="#创建本地分支" class="headerlink" title="创建本地分支"></a>创建本地分支</h3><p><code>git branch (br)</code></p>
<a id="more"></a>
<h3 id="把分支推到远程分支"><a href="#把分支推到远程分支" class="headerlink" title="把分支推到远程分支"></a>把分支推到远程分支</h3><p><code>git push origin (br)</code></p>
<h3 id="切换分支"><a href="#切换分支" class="headerlink" title="切换分支"></a>切换分支</h3><p><code>git checkout (br)</code></p>
<h3 id="git-删除本地分支"><a href="#git-删除本地分支" class="headerlink" title="git 删除本地分支"></a>git 删除本地分支</h3><p><code>git branch -D (br)</code></p>
<h3 id="git-删除远程分支"><a href="#git-删除远程分支" class="headerlink" title="git 删除远程分支"></a>git 删除远程分支</h3><p><code>git push origin :br  (origin 后面有空格)</code></p>
<h3 id="git代码库回滚-指的是将代码库某分支退回到以前的某个commit-id"><a href="#git代码库回滚-指的是将代码库某分支退回到以前的某个commit-id" class="headerlink" title="git代码库回滚: 指的是将代码库某分支退回到以前的某个commit id"></a>git代码库回滚: 指的是将代码库某分支退回到以前的某个commit id</h3><h4 id="本地代码库回滚"><a href="#本地代码库回滚" class="headerlink" title="本地代码库回滚"></a>本地代码库回滚</h4><p><code>git reset --hard commit-id :回滚到commit-id，讲commit-id之后提交的commit都去除</code><br><code>git reset --hard HEAD~3：将最近3次的提交回滚</code></p>
<h4 id="远程代码库回滚"><a href="#远程代码库回滚" class="headerlink" title="远程代码库回滚"></a>远程代码库回滚</h4><p>应用场景：自动部署系统发布后发现问题，需要回滚到某一个commit，再重新发布</p>
<p>原理：先将本地分支退回到某个commit，删除远程分支，再重新push本地分支</p>
<p>操作步骤：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span>、git checkout the_branch</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、git pull</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>、git branch the_branch_backup <span class="comment">//备份一下这个分支当前的情况</span></span><br><span class="line"></span><br><span class="line"><span class="number">4</span>、git reset --hard the_commit_id <span class="comment">//把the_branch本地回滚到the_commit_id</span></span><br><span class="line"></span><br><span class="line"><span class="number">5</span>、git push origin :the_branch <span class="comment">//删除远程 the_branch</span></span><br><span class="line"></span><br><span class="line"><span class="number">6</span>、git push origin the_branch <span class="comment">//用回滚后的本地分支重新建立远程分支</span></span><br><span class="line"></span><br><span class="line"><span class="number">7</span>、git push origin :the_branch_backup <span class="comment">//如果前面都成功了，删除这个备份分支</span></span><br></pre></td></tr></table></figure>
<p>如果使用了gerrit做远程代码中心库和code review平台，需要确保操作git的用户具备分支的push权限，并且选择了 Force Push选项（在push权限设置里有这个选项）</p>
<p>另外，gerrit中心库是个bare库，将HEAD默认指向了master，因此master分支是不能进行删除操作的，最好不要选择删除master分支的策略，换用其他分支。如果一定要这样做，可以考虑到gerrit服务器上修改HEAD指针。。。不建议这样搞</p>
<p>转载自：<a href="http://www.cnblogs.com/hqbhonker/p/5092300.html" target="_blank" rel="noopener">http://www.cnblogs.com/hqbhonker/p/5092300.html</a></p>
<h2 id="git删除远程仓库文件或目录"><a href="#git删除远程仓库文件或目录" class="headerlink" title="git删除远程仓库文件或目录"></a>git删除远程仓库文件或目录</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">git rm --cached ./file.txt //删除目录下的file.txt文件</span><br><span class="line"></span><br><span class="line">git rm -r --cached folder  //删除目录folder</span><br><span class="line"></span><br><span class="line">git commit -m &quot;删除操作&quot;</span><br><span class="line"></span><br><span class="line">git push</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>Git</tag>
        <tag>Git命令</tag>
      </tags>
  </entry>
  <entry>
    <title>Flex布局</title>
    <url>/2017/10/23/Flex%E5%B8%83%E5%B1%80/</url>
    <content><![CDATA[<h2 id="Flex-布局是什么？"><a href="#Flex-布局是什么？" class="headerlink" title="Flex 布局是什么？"></a>Flex 布局是什么？</h2><p>Flex 是 Flexible Box 的缩写，意为”弹性布局”，用来为盒状模型提供最大的灵活性。<br>任何一个容器都可以指定为 Flex 布局。</p>
<a id="more"></a>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.box</span>&#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>行内元素也可以使用 Flex 布局。</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.box</span>&#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-flex;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Webkit 内核的浏览器，必须加上<code>-webkit</code>前缀。</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.box</span>&#123;</span><br><span class="line">  <span class="attribute">display</span>: -webkit-flex; <span class="comment">/* Safari */</span></span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意，设为 Flex 布局以后，子元素的<code>float</code>、<code>clear</code>和<code>vertical-align</code>属性将失效。</p>
</blockquote>
<h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><p>采用 Flex 布局的元素，称为 Flex 容器（flex container），简称”容器”。它的所有子元素自动成为容器成员，称为 Flex 项目（flex item），简称”项目”。</p>
<p><img src="http://oy9tlpm12.bkt.clouddn.com/bg2015071004.png" alt></p>
]]></content>
  </entry>
  <entry>
    <title>Hexo博客从一台电脑迁移到其他电脑</title>
    <url>/2017/10/23/Hexo%E5%8D%9A%E5%AE%A2%E4%BB%8E%E4%B8%80%E5%8F%B0%E7%94%B5%E8%84%91%E8%BF%81%E7%A7%BB%E5%88%B0%E5%85%B6%E4%BB%96%E7%94%B5%E8%84%91/</url>
    <content><![CDATA[<p>hexo官方给了一些迁移的方法，不过它上面介绍的方法都是把博客文章从hexo系统迁移到其他博客系统的方法。然而我们这里要讨论的是：</p>
<p>当我们更换电脑的时候我们应该怎么办？</p>
<p>所以默认你已经成功利用hexo和github发布博客，如果还没有，可以看一下<a href="http://lixiaolai.com/2016/06/22/makecs-build-a-blog-with-hexo-on-github/" target="_blank" rel="noopener">教程</a></p>
<p>具体的思路是：在生成的已经推到github上的hexo静态代码出建立一个分支，利用这个分支来管理自己hexo的源文件。</p>
<a id="more"></a>
<p>如果能在刚刚配置hexo的时候就想好以后的迁移的问题就太好了，可以省掉很多麻烦，可实际使用中，刚刚配置hexo的时候，好多人都是初学，不会想到以后的问题，我就是这样的。</p>
<p>具体的操作：</p>
<p>克隆gitHub上面生成的静态文件到本地</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">git clone https:<span class="comment">//github.com/yourname/hexo-test.github.io.git</span></span><br></pre></td></tr></table></figure>
<p>把克隆到本地的文件除了git的文件都删掉，找不到git的文件的话就到删了吧。不要用<code>hexo init</code>初始化。</p>
<p>将之前使用hexo写博客时候的整个目录（所有文件）搬过来。把该忽略的文件忽略了<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">touch .gitignore</span><br></pre></td></tr></table></figure></p>
<p>创建一个叫hexo的分支<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git checkout -b hexo</span><br></pre></td></tr></table></figure></p>
<p>提交复制过来的文件到暂存区<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git add --all</span><br></pre></td></tr></table></figure></p>
<p>提交<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git commit -m &quot;新建分支源文件&quot;</span><br></pre></td></tr></table></figure></p>
<p>推送分支到github<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git push --set-upstream origin hexo</span><br></pre></td></tr></table></figure></p>
<p>到这里基本上就搞定了，以后再推就可以直接git push了，hexo的操作跟以前一样。</p>
<p>今后无论什么时候想要在其他电脑上面用hexo写博客，就直接把创建的分支克隆下来，<code>npm install</code>安装依赖之后就可以用了。</p>
<p>克隆分支的操作<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git clone -b hexo https://github.com/yourname/hexo-test.github.io.git</span><br></pre></td></tr></table></figure></p>
<p>因为上面创建的是一个名字叫hexo的分支，所以这里-b后面的是hexo，再把后面的gitHub的地址换成你自己的hexo博客的地址就可以了。</p>
<p>这样做完了以后，每次写完博客发布之后不要忘了还要git push把源文件推到分支上。</p>
]]></content>
      <tags>
        <tag>hexo本地更新</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux常用命令集合</title>
    <url>/2017/10/23/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%9B%86%E5%90%88/</url>
    <content><![CDATA[<h1 id="centos"><a href="#centos" class="headerlink" title="centos"></a>centos</h1><h2 id="添加nginx网站"><a href="#添加nginx网站" class="headerlink" title="添加nginx网站"></a>添加nginx网站</h2><h2 id="防火墙"><a href="#防火墙" class="headerlink" title="防火墙"></a>防火墙</h2><p>关闭虚拟机防火墙：</p>
<p>关闭命令： <code>service iptables stop</code></p>
<p>永久关闭防火墙：<code>chkconfig iptables off</code></p>
<p>两个命令同时运行，运行完成后查看防火墙关闭状态<br><code>service iptables status</code></p>
<ul>
<li>关闭防火墙—–<code>service iptables stop</code></li>
<li>启动防火墙—–<code>service iptables start</code></li>
<li>重启防火墙—–<code>service iptables restart</code> </li>
<li>查看防火墙状态–<code>service iptables status</code></li>
<li>永久关闭防火墙–<code>chkconfig iptables off</code> </li>
<li>永久关闭后启用–<code>chkconfig iptables on</code></li>
</ul>
]]></content>
      <tags>
        <tag>服务器配置</tag>
        <tag>linux</tag>
        <tag>后台</tag>
      </tags>
  </entry>
  <entry>
    <title>了解一下JS的正则表达式</title>
    <url>/2017/09/22/%E4%BA%86%E8%A7%A3%E4%B8%80%E4%B8%8BJS%E7%9A%84%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/</url>
    <content><![CDATA[<h2 id="定义-Define"><a href="#定义-Define" class="headerlink" title="定义 Define"></a>定义 Define</h2><p>正则表达式是用于匹配字符串中字符组合的模式。在 JavaScript中，正则表达式也是对象。这些模式或者说对象被用于 RegExp 的 exec 和 test 方法, 以及 String 的 match、replace、search 和 split 方法。</p>
<p>RegExp 是一个用于创建正则表达式对象的构造函数，用于将文本与一个模式匹配。</p>
<h2 id="创建一个正则表达式"><a href="#创建一个正则表达式" class="headerlink" title="创建一个正则表达式"></a>创建一个正则表达式</h2><p>有两种方法创建一个正则表达式。</p>
<a id="more"></a>
<h3 id="1-字面量方式"><a href="#1-字面量方式" class="headerlink" title="1. 字面量方式"></a>1. 字面量方式</h3><p>由包含在斜杠之间的模式组成，如下所示:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">   /pattern/flags </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">var</span> regex = <span class="regexp">/pattern/</span>;</span><br><span class="line"><span class="keyword">var</span> regex = <span class="regexp">/ab+c/</span>;</span><br><span class="line"><span class="keyword">var</span> regex = <span class="regexp">/^[a-zA-Z]+[0-9]*\W?_$/gi</span>;</span><br></pre></td></tr></table></figure>
<p>在加载脚本后，正则表达式字面值提供正则表达式的编译。当正则表达式保持不变时，使用此方法可获得更好的性能。</p>
<h3 id="2-RegExp实例创建"><a href="#2-RegExp实例创建" class="headerlink" title="2. RegExp实例创建"></a>2. RegExp实例创建</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">    new RegExp(pattern [, flags])</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> regex = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"ab+c"</span>);</span><br><span class="line"><span class="keyword">let</span> regex = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="regexp">/ab+c/</span>); <span class="comment">// 与上面等价</span></span><br><span class="line"><span class="keyword">let</span> regex = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="regexp">/^[a-zA-Z]+[0-9]*\W?_$/</span>, <span class="string">"gi"</span>);</span><br><span class="line"><span class="keyword">let</span> regex = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"^[a-zA-Z]+[0-9]*\W?_$"</span>, <span class="string">"gi"</span>);</span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>字面量方式和实例创建的方式在正则中的区别?<br>1、字面量形式提供正则表达式的编译（compilation）状态，当正则表达式保持为常量时使用字面量。而构造函数方式，如<code>new RegExp(&#39;ab+c&#39;)</code>提供了正则表达式运行时编译（runtime compilation）。<br>2、字面量方式中出现的一切都是元字符,所以不能进行变量值的拼接，而实例创建的方式是可以的。实例创建方式的好处在于可以在运行时编译，这个特性可以方便用来处理用户输入。<br>3、字面量中直接写\d就可以，而在实例中有两种情况，如果直接使用/pattern/这种方式创建与字面量方式书写无区别，即\d，如果是带双引号，双引号内的需要把它转译\\d</li>
</ul>
</blockquote>
<p>比如：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">'Jack'</span>;</span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^\d+name+\d+$/</span>; <span class="comment">//这样写是无效的 必须得用实例创建</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="keyword">new</span> RexExp(<span class="string">"^\\d"</span> + name + <span class="string">"\\d+$"</span>,<span class="string">"g"</span>);</span><br></pre></td></tr></table></figure>
<h4 id="RegExp对象的参数"><a href="#RegExp对象的参数" class="headerlink" title="RegExp对象的参数"></a>RegExp对象的参数</h4><p><code>pattern</code>:正则表达式的文本。</p>
<p><code>flags</code>:可以具有以下值的任意组合：</p>
<blockquote>
<p><code>g</code>：全局匹配;找到所有匹配，而不是在第一个匹配后停止<br><code>i</code>：忽略大小写<br><code>m</code>：多行; 将开始和结束字符（^和$）视为在多行上工作（例如，分别匹配每一行的开始和结束（由 \n 或 \r 分割），而不只是只匹配整个输入字符串的最开始和最末尾处。<br><code>u</code>：Unicode; 将模式视为Unicode序列点的序列<br><code>y</code>：粘性匹配; 仅匹配目标字符串中此正则表达式的lastIndex属性指示的索引(并且不尝试从任何后续的索引匹配)。</p>
</blockquote>
<p><strong>从ECMAScript 6开始</strong>，当第一个参数为正则表达式而第二个标志参数存在时，<code>new RegExp(/ab+c/, &#39;i&#39;)</code>不再抛出TypeError （“当从其他正则表达式进行构造时不支持标志”）的异常，取而代之，将使用这些参数创建一个新的正则表达式。</p>
<h2 id="写一个正则表达式"><a href="#写一个正则表达式" class="headerlink" title="写一个正则表达式"></a>写一个正则表达式</h2><p>一个正则表达式模式是由简单的字符所构成的，比如<code>/abc/</code>, 或者是简单和特殊字符的组合，比如 <code>/ab*c/</code> 或 <code>/Chapter (\d+)\.\d*/</code>。后者用到了括号，它在正则表达式中可以被用作是一个记忆设备。这一部分正则所匹配的字符将会被记住，在后面可以被利用。正如 <a href="#使用括号的子字符串匹配">使用括号的子字符串匹配</a>。</p>
<h3 id="简单模式"><a href="#简单模式" class="headerlink" title="简单模式"></a>简单模式</h3><p>简单模式是由你找到的直接匹配所构成的。比如，/abc/这个模式就匹配了在一个字符串中，仅仅字符 <code>&#39;abc&#39;</code> 同时出现并按照这个顺序。在 <code>&quot;Hi, do you know your abc&#39;s?&quot;</code> 和 <code>&quot;The latest airplane designs evolved from slabcraft.&quot;</code> 就会匹配成功。在上面的两个实例中，匹配的是子字符串 <code>&#39;abc&#39;</code>。在字符串 <code>&quot;Grab crab&quot;</code> 中将不会被匹配，因为它不包含任何的 ‘abc’ 子字符串。</p>
<h3 id="特殊字符"><a href="#特殊字符" class="headerlink" title="特殊字符"></a>特殊字符</h3><p>当你需要搜索一个比直接匹配需要更多条件的匹配时，比如寻找一个或多个 ‘b’，或者寻找空格，那么这时模式将要包含特殊字符。比如， 模式<code>/ab*c/</code>匹配了一个单独的 ‘a’ 后面跟了零个或者多个 ‘b’（*的意思是前面一项出现了零个或者多个），且后面跟着 ‘c’ 的任何字符组合。在字符串 <code>&quot;cbbabbbbcdebc&quot;</code> 中，这个模式匹配了子字符串 <code>&quot;abbbbc&quot;</code>。</p>
<h4 id="正则表达式中的特殊字符"><a href="#正则表达式中的特殊字符" class="headerlink" title="正则表达式中的特殊字符"></a>正则表达式中的特殊字符</h4><ul>
<li><a href="#字符类别">字符类别（Character Classes）</a></li>
<li><a href="#字符集合">字符集合（Character Sets）</a></li>
<li><a href="边界">边界（Boundaries）</a></li>
<li><a href="#分组与反向引用">分组（grouping）与反向引用（back references）</a></li>
<li><a href="#数量词">数量词（Quantifiers）</a></li>
<li><a href="#断言">断言（Assertions）</a></li>
</ul>
<h4 id="字符类别"><a href="#字符类别" class="headerlink" title="字符类别"></a>字符类别</h4><h5 id="点号，小数点"><a href="#点号，小数点" class="headerlink" title=".(点号，小数点)"></a><code>.(点号，小数点)</code></h5><p>匹配任意单个字符，但是行结束符除外：<code>\n \r \u2028</code> 或 <code>\u2029</code>。</p>
<p>在字符集中，点( . )失去其特殊含义，并匹配一个字面点( . )。</p>
<p>需要注意的是，m 多行（multiline）标志不会改变点号的表现。因此为了匹配多行中的字符集，可使用[^] （当然你不是打算用在旧版本 IE 中），它将会匹配任意字符，包括换行符。</p>
<p>例如，<code>/.y/</code> 匹配 <code>&quot;yes make my day&quot;</code> 中的 <code>&quot;my&quot;</code> 和 <code>&quot;ay&quot;</code>，但是不匹配 <code>&quot;yes&quot;</code>。</p>
<h5 id="d"><a href="#d" class="headerlink" title="\d"></a><code>\d</code></h5><p>匹配任意阿拉伯数字。等价于[0-9]。</p>
<p>例如，<code>/\d/</code> 或 <code>/[0-9]/</code> 匹配 “B2 is the suite number.” 中的 ‘2’。 </p>
<blockquote>
<ul>
<li><code>\d</code> 表示数字，即 digit，<code>\w</code> 表示单词，等同于 <code>[A-Za-z0-9_]</code>，原文就是 word。</li>
</ul>
</blockquote>
<h5 id="D"><a href="#D" class="headerlink" title="\D"></a><code>\D</code></h5><p>匹配任意一个不是阿拉伯数字的字符。等价于[^0-9]。</p>
<p>例如，<code>/\D/</code> 或 <code>/[^0-9]/</code> 匹配 “B2 is the suite number.” 中的 ‘B’。</p>
<h5 id="w"><a href="#w" class="headerlink" title="\w"></a><code>\w</code></h5><p>匹配任意来自基本拉丁字母表中的字母数字字符，还包括下划线。等价于 <code>[A-Za-z0-9_]</code>。</p>
<p>例如，<code>/\w/</code> 匹配 “apple” 中的 ‘a’，”$5.28” 中的 ‘5’ 和 “3D” 中的 ‘3’。</p>
<h5 id="W"><a href="#W" class="headerlink" title="\W"></a><code>\W</code></h5><p>匹配任意不是基本拉丁字母表中单词（字母数字下划线）字符的字符。等价于 <code>[^A-Za-z0-9_]</code>。</p>
<p>例如，<code>/\W/</code> 或 /[^A-Za-z0-9_]/ 匹配 “50%” 中的 ‘%’。</p>
<h5 id="s"><a href="#s" class="headerlink" title="\s"></a><code>\s</code></h5><p>匹配一个空白符，包括空格、制表符、换页符、换行符和其他 Unicode 空格。</p>
<p>等价于 <code>[ \f\n\r\t\v​\u00a0\u1680​\u180e\u2000​\u2001\u2002​\u2003\u2004​ \u2005\u2006​\u2007\u2008​\u2009\u200a​\u2028\u2029​​\u202f\u205f​ \u3000]</code>。</p>
<p>例如 <code>/\s\w*/</code> 匹配 “foo bar” 中的 ‘ bar’。</p>
<h5 id="S"><a href="#S" class="headerlink" title="\S"></a><code>\S</code></h5><p>匹配一个非空白符。等价于 <code>[^ \f\n\r\t\v​\u00a0\u1680​\u180e\u2000​\u2001\u2002​\u2003\u2004​ \u2005\u2006​\u2007\u2008​\u2009\u200a​\u2028\u2029​\u202f\u205f​\u3000]</code>。</p>
<p>例如，<code>/\S\w*/</code> 匹配 “foo bar” 中的 ‘foo’。</p>
<h5 id="t"><a href="#t" class="headerlink" title="\t"></a><code>\t</code></h5><p>匹配一个水平制表符（tab）</p>
<h5 id="r"><a href="#r" class="headerlink" title="\r"></a><code>\r</code></h5><p>匹配一个回车符（carriage return）</p>
<blockquote>
<ul>
<li>回车 <code>\r</code> 本义是光标重新回到本行开头，r 即 return。</li>
</ul>
</blockquote>
<h5 id="n"><a href="#n" class="headerlink" title="\n"></a><code>\n</code></h5><p>匹配一个换行符（linefeed）</p>
<h5 id="v"><a href="#v" class="headerlink" title="\v"></a><code>\v</code></h5><p>匹配一个垂直制表符（vertical tab）</p>
<h5 id="f"><a href="#f" class="headerlink" title="\f"></a><code>\f</code></h5><p>匹配一个换页符（form-feed）</p>
<h5 id="b"><a href="#b" class="headerlink" title="[\b]"></a><code>[\b]</code></h5><p>匹配一个退格符（backspace）（不要与 \b 混淆）</p>
<h5 id="0"><a href="#0" class="headerlink" title="\0"></a><code>\0</code></h5><p>匹配一个 NUL 字符。不要在此后面跟小数点。</p>
<h5 id="cX"><a href="#cX" class="headerlink" title="\cX"></a><code>\cX</code></h5><p>X 是 A - Z 的一个字母。匹配字符串中的一个控制字符。</p>
<p>例如，<code>/\cM/</code> 匹配字符串中的 control-M。</p>
<h5 id="xhh"><a href="#xhh" class="headerlink" title="\xhh"></a><code>\xhh</code></h5><p>匹配编码为 <code>hh</code> （两个十六进制数字）的字符。</p>
<h5 id="uhhhh"><a href="#uhhhh" class="headerlink" title="\uhhhh"></a><code>\uhhhh</code></h5><p>匹配 Unicode 值为 hhhh （四个十六进制数字）的字符。</p>
<h5 id="反斜杠"><a href="#反斜杠" class="headerlink" title="\(反斜杠)"></a><code>\(反斜杠)</code></h5><p>对于那些通常被认为字面意义的字符来说，表示下一个字符具有特殊用处，并且不会被按照字面意义解释。</p>
<p>例如 <code>/b/</code> 匹配字符 ‘b’。在 b 前面加上一个反斜杠，即使用 <code>/\b/</code>，则该字符变得特殊，以为这匹配一个单词边界。</p>
<p>或</p>
<p>对于那些通常特殊对待的字符，表示下一个字符不具有特殊用途，会被按照字面意义解释。</p>
<p>例如，<code>*</code> 是一个特殊字符，表示匹配某个字符 0 或多次，如 <code>/a*/</code> 意味着 0 或多个 “a”。 为了匹配字面意义上的 <code>*</code> ，在它前面加上一个反斜杠，例如，<code>/a\*/</code>匹配 ‘a*’。</p>
<h4 id="字符集合"><a href="#字符集合" class="headerlink" title="字符集合"></a>字符集合</h4><h5 id="xyz"><a href="#xyz" class="headerlink" title="[xyz]"></a><code>[xyz]</code></h5><p>一个字符集合，也叫字符组。匹配集合中的任意一个字符。你可以使用连字符’<code>-</code>‘指定一个范围。</p>
<p>例如，<code>[abcd]</code> 等价于 <code>[a-d]</code>，匹配”<code>brisket</code>“中的’b’和”<code>chop</code>“中的’c’。</p>
<h5 id="xyz-1"><a href="#xyz-1" class="headerlink" title="[^xyz]"></a><code>[^xyz]</code></h5><p>一个反义或补充字符集，也叫反义字符组。也就是说，它匹配任意不在括号内的字符。你也可以通过使用连字符 ‘-‘ 指定一个范围内的字符。</p>
<p>例如，<code>[^abc]</code> 等价于 <code>[^a-c]</code>。 第一个匹配的是 “bacon” 中的’o’ 和 “chop” 中的 ‘h’。</p>
<h4 id="边界"><a href="#边界" class="headerlink" title="边界"></a>边界</h4><h5 id><a href="#" class="headerlink" title="^"></a><code>^</code></h5><p>匹配输入开始。如果多行（multiline）标志被设为 true，该字符也会匹配一个断行（line break）符后的开始处。</p>
<p>例如，<code>/^A/</code> 不匹配 “an A” 中的 “A”，但匹配 “An A” 中的 “A”。</p>
<blockquote>
<ul>
<li>换行 <code>\n</code> 本义是光标往下一行（不一定到下一行行首），n 即 newline。</li>
</ul>
</blockquote>
<h5 id="-1"><a href="#-1" class="headerlink" title="$"></a><code>$</code></h5><p>匹配输入结尾。如果多行（multiline）标志被设为 true，该字符也会匹配一个断行（line break）符的前的结尾处。</p>
<p>例如，<code>/t$/</code> 不匹配 “eater” 中的 “t”，但匹配 “eat” 中的 “t”。</p>
<h5 id="b-1"><a href="#b-1" class="headerlink" title="\b"></a><code>\b</code></h5><p>匹配一个零宽单词边界（zero-width word boundary），如一个字母与一个空格之间。 （不要和 <code>[\b]</code> 混淆）</p>
<p>例如，<code>/\bno/</code> 匹配 “at noon” 中的 “no”，<code>/ly\b/</code> 匹配 “possibly yesterday.” 中的 “ly”。</p>
<h5 id="B"><a href="#B" class="headerlink" title="\B"></a><code>\B</code></h5><p>匹配一个零宽非单词边界（zero-width non-word boundary），如两个字母之间或两个空格之间。</p>
<p>例如，<code>/\Bon/</code> 匹配 “at noon” 中的 “on”，<code>/ye\B/</code> 匹配 “possibly yesterday.” 中的 “ye”。</p>
<h4 id="分组与反向引用"><a href="#分组与反向引用" class="headerlink" title="分组与反向引用"></a>分组与反向引用</h4><h5 id="x"><a href="#x" class="headerlink" title="(x)"></a><code>(x)</code></h5><p>匹配 <code>x</code> 并且捕获匹配项。 这被称为捕获括号（capturing parentheses）。</p>
<p>例如，<code>/(foo)/</code> 匹配且捕获 “foo bar.” 中的 “foo”。被匹配的子字符串可以在结果数组的元素 <code>[1], ..., [n]</code> 中找到，或在被定义的 RegExp 对象的属性 $1, …, $9 中找到。</p>
<p>捕获组（Capturing groups）有性能惩罚。如果不需再次访问被匹配的子字符串，最好使用非捕获括号（non-capturing parentheses），见下面。</p>
<h5 id="x-1"><a href="#x-1" class="headerlink" title="(?:x)"></a><code>(?:x)</code></h5><p>匹配 <code>x</code> 不会捕获匹配项。这被称为非捕获括号（non-capturing parentheses）。匹配项不能够从结果数组的元素 <code>[1], ..., [n]</code> 或已被定义的 <code>RegExp</code> 对象的属性 <code>$1, ..., $9</code> 再次访问到。</p>
<h5 id="n-1"><a href="#n-1" class="headerlink" title="\n"></a><code>\n</code></h5><p><code>n</code> 是一个正整数。一个反向引用（back reference），指向正则表达式中第 n 个括号（从左开始数）中匹配的子字符串。</p>
<p>例如，<code>/apple(,)\sorange\1/</code> 匹配 “apple, orange, cherry, peach.” 中的 “apple,orange,”。一个更全面的例子在下面。</p>
<h4 id="数量词"><a href="#数量词" class="headerlink" title="数量词"></a>数量词</h4><h5 id="x-2"><a href="#x-2" class="headerlink" title="x*"></a><code>x*</code></h5><p>匹配前面的模式 x 0 或多次。</p>
<p>例如，<code>/bo*/</code> 匹配 “A ghost booooed” 中的 “boooo”，”A bird warbled” 中的 “b”，但是不匹配 “A goat grunted”。</p>
<h5 id="x-3"><a href="#x-3" class="headerlink" title="x+"></a><code>x+</code></h5><p>匹配前面的模式 x 1 或多次。等价于 <code>{1,}</code>。</p>
<p>例如，<code>/a+/</code> 匹配 “candy” 中的 “a”，”caaaaaaandy” 中所有的 “a”。</p>
<h5 id="x-x"><a href="#x-x" class="headerlink" title="x*? x+?"></a><code>x*?</code> <code>x+?</code></h5><p>像上面的 * 和 + 一样匹配前面的模式 x，然而匹配是最小可能匹配。</p>
<p>例如，<code>/&quot;.*?&quot;/</code> 匹配 ‘“foo” “bar”‘ 中的 ‘“foo”‘，而 * 后面没有 ? 时匹配 ‘“foo” “bar”‘。</p>
<h5 id="x-4"><a href="#x-4" class="headerlink" title="x?"></a><code>x?</code></h5><p>匹配前面的模式 x 0 或 1 次。</p>
<p>例如，<code>/e?le?/</code> 匹配 “angel” 中的 “el”，”angle” 中的 “le”。</p>
<p>如果在数量词 <code>*</code>、<code>+</code>、<code>?</code> 或 <code>{}</code>, 任意一个后面紧跟该符号（?），会使数量词变为非贪婪（ non-greedy） ，即匹配次数最小化。反之，默认情况下，是贪婪的（greedy），即匹配次数最大化。</p>
<p>在使用于向前断言（lookahead assertions）时，见该表格中 <code>(?=)、`</code>(?!)<code>和</code>(?:)` 的说明。</p>
<h5 id="x-y"><a href="#x-y" class="headerlink" title="x(?=y)"></a><code>x(?=y)</code></h5><p>只有当 <code>x</code> 后面不是紧跟着 <code>y</code> 时，才匹配 <code>x</code>。例如，<code>/\d+(?!\.)/</code> 只有当一个数字后面没有紧跟着一个小数点时，才会匹配该数字。</p>
<p><code>/\d+(?!\.)/.exec(&quot;3.141&quot;)</code> 匹配 141 而不是 3.141。</p>
<h5 id="x-y-1"><a href="#x-y-1" class="headerlink" title="x|y"></a><code>x|y</code></h5><p>匹配 <code>x</code> 或 <code>y</code></p>
<p>例如，<code>/green|red/</code> 匹配 “green apple” 中的 ‘green’，”red apple.” 中的 ‘red’。</p>
<h5 id="x-n"><a href="#x-n" class="headerlink" title="x{n}"></a><code>x{n}</code></h5><p><code>n</code> 是一个正整数。前面的模式 <code>x</code> 连续出现 <code>n</code> 次时匹配。</p>
<p>例如，<code>/a{2}/</code> 不匹配 “candy,” 中的 “a”，但是匹配 “caandy,” 中的两个 “a”，且匹配 “caaandy.” 中的前两个 “a”。</p>
<h5 id="x-n-1"><a href="#x-n-1" class="headerlink" title="x{n,}"></a><code>x{n,}</code></h5><p><code>n</code> 是一个正整数。前面的模式 x 连续出现至少 n 次时匹配。</p>
<p>例如，<code>/a{2,}/</code> 不匹配 “candy” 中的 “a”，但是匹配 “caandy” 和 “caaaaaaandy.” 中所有的 “a”。</p>
<h5 id="x-n-m"><a href="#x-n-m" class="headerlink" title="x{n,m}"></a><code>x{n,m}</code></h5><p><code>n</code> 和 <code>m</code> 为正整数。前面的模式 x 连续出现至少 n 次，至多 m 次时匹配。</p>
<p>例如，<code>/a{1,3}/</code> 不匹配 “cndy”，匹配 “candy,” 中的 “a”，”caandy,” 中的两个 “a”，匹配 “caaaaaaandy” 中的前面三个 “a”。注意，当匹配 “caaaaaaandy” 时，即使原始字符串拥有更多的 “a”，匹配项也是 “aaa”。</p>
<h4 id="断言"><a href="#断言" class="headerlink" title="断言"></a>断言</h4><h5 id="x-y-2"><a href="#x-y-2" class="headerlink" title="x(?=y)"></a><code>x(?=y)</code></h5><p>仅匹配被y跟随的x。</p>
<p>举个例子，<code>/Jack(?=Sprat)/</code>，如果”Jack”后面跟着sprat，则匹配之。</p>
<p><code>/Jack(?=Sprat|Frost)/</code> ，如果”Jack”后面跟着”Sprat”或者”Frost”，则匹配之。但是，”Sprat” 和”Frost” 都不会在匹配结果中出现。</p>
<h5 id="x-y-3"><a href="#x-y-3" class="headerlink" title="x(?!y)"></a><code>x(?!y)</code></h5><p>仅匹配不被y跟随的x。</p>
<p>举个例子，<code>/\d+(?!\.)/</code> 只会匹配不被点（.）跟随的数字。<br><code>/\d+(?!\.)/.exec(&#39;3.141&#39;)</code> 匹配”141”，而不是”3.141”</p>
]]></content>
      <tags>
        <tag>Javascript</tag>
        <tag>正则表达式</tag>
      </tags>
  </entry>
</search>
